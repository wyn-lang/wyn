// Minimal self-compiling Wyn compiler
// Supports only: fn declarations, var declarations, return statements, int literals

fn compile(source: string) -> string {
    var output = "#include <stdio.h>\n#include <stdlib.h>\n\nint main() {\n    return 0;\n}\n"
    return output
}

fn main() -> int {
    var args = System::args()
    
    var input_path = "/tmp/test_input.wyn"
    var output_path = "/tmp/test_input.c"
    
    if args.len() >= 3 {
        input_path = args[1]
        output_path = args[2]
    }
    
    var source = ""
    if File::exists(input_path) {
        source = File::read(input_path)
    }
    
    var c_code = compile(source)
    File::write(output_path, c_code)
    print("Compilation successful")
    
    return 0
}
