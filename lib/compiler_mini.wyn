// Minimal integrated compiler test
fn lex_simple(input: string) -> int {
    return input.len()
}

fn parse_simple(token_count: int) -> int {
    return token_count
}

fn codegen_simple(node_count: int) -> string {
    return "int main() { return 0; }\n"
}

fn compile(source: string) -> string {
    var tokens = lex_simple(source)
    var nodes = parse_simple(tokens)
    var code = codegen_simple(nodes)
    return code
}

fn main() -> int {
    var src = "fn test() { return 42 }"
    var result = compile(src)
    print("âœ“ Mini compiler pipeline works!")
    print(result)
    return 0
}
