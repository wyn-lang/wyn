// Test array map with function name

fn double(x: int) -> int {
    return x * 2;
}

fn is_positive(x: int) -> int {
    if x > 0 {
        return 1;
    }
    return 0;
}

fn main() -> int {
    var numbers = [1, 2, 3];
    
    // Map using function name as string
    var doubled = numbers.map("double");
    if doubled[0] != 2 {
        return 1;
    }
    
    // Filter using function name as string
    var mixed = [-1, 2, -3, 4];
    var positive = mixed.filter("is_positive");
    if positive.len() != 2 {
        return 2;
    }
    
    return 0;
}
