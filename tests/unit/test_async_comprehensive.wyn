// Comprehensive async/await test
async fn compute() -> int {
    return 10;
}

async fn add(x: int, y: int) -> int {
    return x + y;
}

async fn chain() -> int {
    let a = await compute();
    let b = await compute();
    return a + b;
}

fn main() -> int {
    let result1 = await compute();
    let result2 = await add(5, 7);
    let result3 = await chain();
    
    if (result1 != 10) { return 1; }
    if (result2 != 12) { return 2; }
    if (result3 != 20) { return 3; }
    
    return 99;
}
