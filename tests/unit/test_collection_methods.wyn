// Phase 4: Array Method Tests

fn test_array_len() -> int {
    var arr = [1, 2, 3, 4, 5];
    var len = arr.len();
    // len should be 5
    return len;
}

fn test_array_is_empty() -> int {
    var arr = [1, 2, 3];
    var not_empty = arr.is_empty();
    
    var empty_arr = [];
    var empty = empty_arr.is_empty();
    
    // not_empty should be 0 (false), empty should be 1 (true)
    if (not_empty) {
        return 1;
    }
    return 0;
}

fn test_array_contains() -> int {
    var arr = [1, 2, 3, 4, 5];
    var has_3 = arr.contains(3);
    var has_10 = arr.contains(10);
    
    // has_3 should be 1 (true), has_10 should be 0 (false)
    if (has_3) {
        return 1;
    }
    return 0;
}

fn test_string_vs_array_len() -> int {
    // This tests that type-aware dispatch works correctly
    var text = "hello";
    var text_len = text.len();  // Should call string_len()
    
    var arr = [1, 2, 3];
    var arr_len = arr.len();    // Should call array_len()
    
    // text_len=5, arr_len=3
    return text_len + arr_len;  // Should return 8
}

fn main() -> int {
    var len = test_array_len();
    var empty = test_array_is_empty();
    var contains = test_array_contains();
    var combined = test_string_vs_array_len();
    
    // len=5, empty=0, contains=1, combined=8
    // Total: 5 + 0 + 1 + 8 = 14
    return len + empty + contains + combined;
}
